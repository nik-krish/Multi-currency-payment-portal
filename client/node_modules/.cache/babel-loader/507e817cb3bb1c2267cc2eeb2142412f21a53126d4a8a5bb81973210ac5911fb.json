{"ast":null,"code":"import React,{useEffect}from\"react\";import jwt from\"jsonwebtoken\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";const Dashboard=()=>{const navigate=useNavigate();async function populateDashboard(){const req=await fetch(\"http://localhost:3001/api/dashboard\",{headers:{\"x-access-token\":localStorage.getItem(\"token\")}});const data=req.json();console.log(data);}useEffect(()=>{const token=localStorage.getItem(\"token\");if(token){const user=jwt.decode(token);if(!user){localStorage.removeItem(\"token\");navigate(\"/login\");}else{populateDashboard();}}},[navigate]);return/*#__PURE__*/_jsx(\"h1\",{children:\"hellooo\"});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","jwt","useNavigate","jsx","_jsx","Dashboard","navigate","populateDashboard","req","fetch","headers","localStorage","getItem","data","json","console","log","token","user","decode","removeItem","children"],"sources":["D:/payment-app/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  async function populateDashboard() {\r\n    const req = await fetch(\"http://localhost:3001/api/dashboard\", {\r\n      headers: {\r\n        \"x-access-token\": localStorage.getItem(\"token\"),\r\n      },\r\n    });\r\n    const data = req.json();\r\n    console.log(data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      const user = jwt.decode(token);\r\n      if (!user) {\r\n        localStorage.removeItem(\"token\");\r\n        navigate(\"/login\");\r\n      } else {\r\n        populateDashboard();\r\n      }\r\n    }\r\n  }, [navigate]);\r\n\r\n  return <h1>hellooo</h1>;\r\n};\r\nexport default Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,GAAG,KAAM,cAAc,CAC9B,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/C,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAAC,QAAQ,CAAGJ,WAAW,CAAC,CAAC,CAC9B,cAAe,CAAAK,iBAAiBA,CAAA,CAAG,CACjC,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,qCAAqC,CAAE,CAC7DC,OAAO,CAAE,CACP,gBAAgB,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAChD,CACF,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAGL,GAAG,CAACM,IAAI,CAAC,CAAC,CACvBC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,CACnB,CAEAb,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,KAAK,CAAGN,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIK,KAAK,CAAE,CACT,KAAM,CAAAC,IAAI,CAAGjB,GAAG,CAACkB,MAAM,CAACF,KAAK,CAAC,CAC9B,GAAI,CAACC,IAAI,CAAE,CACTP,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC,CAChCd,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,CACLC,iBAAiB,CAAC,CAAC,CACrB,CACF,CACF,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEd,mBAAOF,IAAA,OAAAiB,QAAA,CAAI,SAAO,CAAI,CAAC,CACzB,CAAC,CACD,cAAe,CAAAhB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}